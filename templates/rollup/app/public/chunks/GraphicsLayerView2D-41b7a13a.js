import{U as i,bO as e,bL as t,p as r,y as s,q as a}from"../main.js";import"./featureConversionUtils-0e5f7c52.js";import"./centroid-aa1305d6.js";import"./FeatureSetReader-b7349ae0.js";import"./json-9a5f5790.js";import"./quantizationUtils-779d11a7.js";import"./quickselect-efd045df.js";import"./ComputedAttributeStorage-82041b67.js";import"./definitions-5e24d82a.js";import"./RenderingContext-81847018.js";import"./Utils-b46864a6.js";import"./CircularArray-e829d2b1.js";import"./visualVariablesUtils-a8352e1b.js";import"./earcut-69661edf.js";import"./TurboLine-c366e7cd.js";import"./Rect-31175b04.js";import"./GeometryUtils-2b0c8e16.js";import"./BidiEngine-b37d0381.js";import"./VertexArrayObject-17b5c9bd.js";import"./ShaderCompiler-2335fa5a.js";import"./Container-c6c95dc1.js";import"./mat4f32-a7ddfa75.js";import"./WGLContainer-720c8185.js";import"./MaterialKey-a89f5ca3.js";import"./shapingUtils-e86a3b68.js";import"./WGLMeshFactory-05a88f56.js";import{t as p}from"./GraphicsView2D-64a51c26.js";import"./FeatureContainer-de88ad63.js";import"./VertexBuffer-06b50273.js";import"./TileContainer-59d09056.js";import"./MD5-f399cfb7.js";import"./graphicsUtils-f2509259.js";import{l as o,p as h}from"./LayerView2D-6e7585a5.js";const n={remove(){},pause(){},resume(){}};let c=class extends(o(h)){initialize(){this.graphicsView=new p({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:this.layer.graphics})}attach(){this.container.addChild(this.graphicsView.container),this.handles.add(this.layer.on("graphic-update",this.graphicsView.graphicUpdateHandler),"graphicslayerview2d")}detach(){this.container.removeAllChildren(),this.graphicsView.destroy(),this.handles.remove("graphicslayerview2d")}hitTest(e,t){return this.suspended||!this.graphicsView?i(null):this.graphicsView.hitTest(e,t)}async fetchPopupFeatures(i){if(this.graphicsView)return this.graphicsView.searchFeatures(i).then((i=>i.filter((i=>!!i.popupTemplate))))}update(i){this.graphicsView.processUpdate(i)}moveStart(){}viewChange(){this.graphicsView.viewChange()}moveEnd(){}isUpdating(){return!this.graphicsView||this.graphicsView.updating}highlight(i){let r;return"number"==typeof i?r=[i]:i instanceof e?r=[i.uid]:Array.isArray(i)&&i.length>0?r="number"==typeof i[0]?i:i.map((i=>i&&i.uid)):t.isCollection(i)&&(r=i.map((i=>i&&i.uid)).toArray()),r=r.filter((i=>null!=i)),r.length?(this.graphicsView.addHighlight(r),{remove:()=>this.graphicsView.removeHighlight(r),pause:()=>{},resume:()=>{}}):n}queryGraphics(){return i(this.graphicsView.graphics)}};r([s()],c.prototype,"graphicsView",void 0),r([s({dependsOn:["graphicsView.updating"]})],c.prototype,"updating",void 0),c=r([a("esri.views.2d.layers.GraphicsLayerView2D")],c);var d=c;export default d;
